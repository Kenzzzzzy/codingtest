# コーディングテスト
## 課題
* APIのコール
* DBへの保存

### 処理フロー
1. 引数の取得
   1. 画像ファイルパスの取得
   2. 存在チェック
2. APIコール
   1. URL取得
   2. コール
   3. （失敗時）リトライ
   4. レスポンス取得
3. DB保存
   1. DB設定取得
   2. DB接続
   3. トランザクション
   4. DB保存

### APIコール仕様
* 詳細は資料参照
* 引数
   * ローカルの画像パス
   * ファイルまで含む
* 戻り値はJson

### タスク
- [X] 画像パスが渡されているか判定
- [X] 渡した画像の有無
- [X] APIの呼び出し
- [X] API呼び出しの失敗
   - [X] タイムアウト
   - [X] サーバー側エラー
   - [X] 呼び出し側エラー
- [X] APIの呼び出しテスト
- [X] APIの呼び出しエラーテスト
- [X] DB接続設定取得と接続
- [X] DB保存処理
- [X] APIの呼び出しをモックにしたスルーテスト

### 留意事項
分析APIは存在しないため、動作チェックはモック前提で以下を使用
```
pytest tests/test_main.py -s 
```